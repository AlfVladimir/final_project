{% extends 'base.html' %}

{% block title %}Изменение задачи {{ id }}{% endblock %}

{% block content %}

<div class="container ">
    <div style="width: 30rem;">

        <br>
        <h5 class="title">Изменение задачи</h5>
        <br>
        <div class = "container  p-2">
        <form method="post" action="{% url 'taskedit' id %}">

            <div class="mb-3">
                <label class="form-label">Название</label>
                {{ form.name }}
            </div>
            <div class="mb-3">
                <label class="form-label">Текст задачи</label>
                {{ form.content }}
            </div>

            <div class="mb-3 row">
                <label class="col-sm-6 col-form-label">Завершена?</label>
                <div class="col-sm-6">
                    <div class="form-check form-switch">
                        {{ form.is_complete }}
                    </div>
                </div>
            </div>


            <div class="mb-3 row">
                <label class="col-sm-4 col-form-label">Статус</label>
                <div class="col-sm-8">
                    {{ form.status }}
                </div>
            </div>

            <div class="mb-3 row">
                <label class="col-sm-4 col-form-label">Исполнитель</label>
                <div class="col-sm-8">
                    {{ form.executor }}
                </div>
            </div>
            
            <div class="mb-3 row">
                <label class="col-sm-4 col-form-label">Проект</label>
                <div class="col-sm-8">
                    {{ form.project }}
                </div>
            </div>

            <div class="mb-3 row">
                <label class="col-sm-4 col-form-label">Спринт</label>
                <div class="col-sm-8">
                    {{ form.sprint }}
                </div>
            </div>

            {% csrf_token %}


            {% if form.errors or form.non_field_errors %}
            <div class="list-group text-warning">
                {% for field in form %}
                    {{ field.errors }}
                {% endfor %}

                {{ form.non_field_errors }}
            </div>            
            {% endif %}


            <div class="d-flex justify-content-between flex-wrap">
                <div class = "col-sm-8">
                    <button type="submit" class="btn btn-primary btn-block">Внести изменения</button>
                </div>
                <div class="col-sm-2 ">
                    <input type="button" class = "btn btn-danger btn-block" onclick="window.location.href='{% url 'taskdelete' id %}';" value="Удалить" />
                </div>
            </div>

        </form>
        </div>
        <div class="col-sm-2 ">
            <input type="button" class = "btn btn-info" onclick="history.back();" value="Назад"/>       
        </div>
    </div>
</div>


{% endblock content %}